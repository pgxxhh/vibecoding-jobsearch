spring:
  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: sa
    password: 
    driver-class-name: org.h2.Driver
  jpa:
    hibernate:
      ddl-auto: create-drop
    database-platform: org.hibernate.dialect.H2Dialect
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
  h2:
    console:
      enabled: true
  flyway:
    enabled: false  # 禁用Flyway，让Hibernate处理测试数据库schema

# 测试环境的ChatGPT配置
jobs:
  detail-enhancement:
    enabled: true
    provider: chatgpt
    chatgpt:
      api-key: ${OPENAI_API_KEY:} # 测试时从环境变量读取，或为空
      base-url: ${OPENAI_BASE_URL:https://api.openai.com}
      path: /v1/responses
      model: gpt-4o-mini
      timeout: PT10S
      temperature: 0.2
      max-output-tokens: 800

# 日志配置
logging:
  level:
    com.vibe.jobs.jobposting.application.enrichment: DEBUG
    root: WARN