# ğŸš€ è¯¦æƒ…è·å–åŠŸèƒ½ä¼˜åŒ–

## ğŸ“‹ ä¼˜åŒ–æ¦‚è¿°

åŸºäºå·²æˆåŠŸçš„è¯¦æƒ…è·å–åŠŸèƒ½ï¼Œå®ç°äº†ä¸¤ä¸ªé‡è¦ä¼˜åŒ–ï¼š

### 1. **HTMLæ ¼å¼ä¿ç•™** ğŸ¨
- **é—®é¢˜**: åŸæ¥åªæå–çº¯æ–‡æœ¬ï¼Œä¸¢å¤±äº†æ ¼å¼ä¿¡æ¯
- **è§£å†³**: æ™ºèƒ½ä¿ç•™HTMLæ ¼å¼ï¼Œæå‡å†…å®¹å¯è¯»æ€§

### 2. **èŒä½ç¼–å·ä¼˜åŒ–** ğŸ†”  
- **é—®é¢˜**: external_idä½¿ç”¨å®Œæ•´URLè·¯å¾„ï¼Œå†—é•¿ä¸”ä¸ç›´è§‚
- **è§£å†³**: æå–çœŸæ­£çš„èŒä½ç¼–å·(Role Number)ä½œä¸ºexternal_id

## ğŸ”§ å®ç°ç»†èŠ‚

### HTMLæ ¼å¼ä¿ç•™

#### æ™ºèƒ½æ ¼å¼æ£€æµ‹
```java
private boolean shouldPreserveHtmlFormat(ParserProfile.DetailFetchConfig config, String url) {
    // å¯¹Apple Jobsç­‰éœ€è¦æ ¼å¼çš„ç½‘ç«™ä¿ç•™HTML
    return url.contains("jobs.apple.com") || 
           config.getContentSelectors().stream().anyMatch(s -> s.contains("section"));
}
```

#### å†…å®¹æ¸…ç†ç­–ç•¥
```java
// ä¿ç•™çš„æ ‡ç­¾
- æ ‡é¢˜: h1, h2, h3, h4, h5, h6
- æ®µè½: p, div, section  
- åˆ—è¡¨: ul, ol, li
- å¼ºè°ƒ: strong, b, em, i
- æ¢è¡Œ: br

// ç§»é™¤çš„å†…å®¹
- è„šæœ¬: script, style
- æ ·å¼å±æ€§: style, onclickç­‰
- ä¸å¿…è¦çš„å±æ€§: åªä¿ç•™id, class
```

#### æ ¼å¼å¯¹æ¯”
```
ğŸ“ æ”¹è¿›å‰ (çº¯æ–‡æœ¬):
Summary Posted: Sep 26, 2025 Role Number:200616370-3715 Marketing Communications...

ğŸ¨ æ”¹è¿›å (HTMLæ ¼å¼):
<h2>Summary</h2>
<p>Posted: Sep 26, 2025</p>
<p>Role Number: 200616370-3715</p>
<p>Marketing Communications...</p>
<h2>Key Qualifications</h2>
<ul>
  <li>Experience with marketing</li>
  <li>Strong communication skills</li>
</ul>
```

### èŒä½ç¼–å·æå–

#### æå–ç­–ç•¥
```java
// ä¼˜å…ˆçº§é¡ºåº:
1. Role Number: "Role Number: 200616370-3715"
2. Job ID: "Job ID: 200616370-3715"  
3. URLæå–: "/details/200616370-3715/..." â†’ "200616370-3715"
```

#### æå–æ¨¡å¼
```java
String[] patterns = {
    "Role Number[:\\s]*([0-9-]+)",
    "role[\\s\\-_]*number[:\\s]*([0-9-]+)", 
    "job[\\s\\-_]*id[:\\s]*([0-9-]+)",
    "position[\\s\\-_]*id[:\\s]*([0-9-]+)"
};
```

#### ä¼˜åŒ–æ•ˆæœ
```
ğŸ”„ External ID æ”¹è¿›:
æ”¹è¿›å‰: /zh-cn/details/200616370-3715/senior-social-media-producer?team=MKTG
æ”¹è¿›å: 200616370-3715

âœ… ä¼˜åŠ¿:
- é•¿åº¦ä» 73å­—ç¬¦ â†’ 13å­—ç¬¦ (å‡å°‘82%)
- æ›´æ¸…æ™°æ˜“è¯»
- çœŸæ­£çš„èŒä½å”¯ä¸€æ ‡è¯†ç¬¦
- ä¾¿äºæ•°æ®åº“ç´¢å¼•å’ŒæŸ¥è¯¢
```

## ğŸ“Š æ€§èƒ½å½±å“

### å†…å®¹å¤§å°å¯¹æ¯”
- **HTMLæ ¼å¼**: ~301å­—ç¬¦ (åŒ…å«ç»“æ„)
- **çº¯æ–‡æœ¬**: ~162å­—ç¬¦ (æ— æ ¼å¼)
- **å¢åŠ **: +85% å¤§å°ï¼Œä½†è·å¾—å®Œæ•´æ ¼å¼ä¿¡æ¯

### å¤„ç†é€»è¾‘
- **HTMLæ¸…ç†**: è½»é‡çº§ï¼Œä¸»è¦æ˜¯æ ‡ç­¾è¿‡æ»¤
- **èŒä½ç¼–å·æå–**: æ­£åˆ™åŒ¹é…ï¼Œæ€§èƒ½å¼€é”€æå°
- **æ€»ä½“å½±å“**: <1% é¢å¤–å¤„ç†æ—¶é—´

## ğŸ¯ åº”ç”¨åœºæ™¯

### HTMLæ ¼å¼çš„ä¼˜åŠ¿
1. **å‰ç«¯å±•ç¤º**: 
   - æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
   - ç»“æ„åŒ–å†…å®¹å±•ç¤º
   - ä¿ç•™åŸç½‘ç«™æ ¼å¼

2. **æ•°æ®åˆ†æ**:
   - ä¾¿äºè§£æä¸åŒéƒ¨åˆ† (Summary, Qualificationsç­‰)
   - æ”¯æŒç»“æ„åŒ–æŸ¥è¯¢
   - æ›´å¥½çš„å†…å®¹è´¨é‡

3. **APIå“åº”**:
   - æ”¯æŒrich textæ˜¾ç¤º
   - å…¼å®¹markdownè½¬æ¢
   - çµæ´»çš„å‰ç«¯æ¸²æŸ“

### èŒä½ç¼–å·çš„ä¼˜åŠ¿
1. **æ•°æ®åº“ä¼˜åŒ–**:
   - æ›´çŸ­çš„ç´¢å¼•
   - æ›´å¿«çš„æŸ¥è¯¢é€Ÿåº¦
   - èŠ‚çœå­˜å‚¨ç©ºé—´

2. **ç”¨æˆ·ä½“éªŒ**:
   - æ›´æ¸…æ™°çš„èŒä½æ ‡è¯†
   - ä¾¿äºåˆ†äº«å’Œå¼•ç”¨
   - æ›´å¥½çš„URLå‹å¥½æ€§

3. **ç³»ç»Ÿé›†æˆ**:
   - ä¾¿äºä¸å…¶ä»–ç³»ç»Ÿå¯¹æ¥
   - æ ‡å‡†åŒ–çš„èŒä½å¼•ç”¨
   - æ›´å¥½çš„å»é‡æ•ˆæœ

## ğŸ”„ å‘åå…¼å®¹æ€§

### ç°æœ‰æ•°æ®
- **ä¸å—å½±å“**: ç°æœ‰çš„external_idä¿æŒä¸å˜
- **æ¸è¿›å¼æ”¹è¿›**: åªæœ‰æ–°æŠ“å–çš„èŒä½ä½¿ç”¨ä¼˜åŒ–åçš„ID
- **å¹³æ»‘è¿‡æ¸¡**: æ”¯æŒæ–°æ—§æ ¼å¼å¹¶å­˜

### APIå…¼å®¹æ€§
- **å†…å®¹æ ¼å¼**: å®¢æˆ·ç«¯å¯é€‰æ‹©HTMLæˆ–çº¯æ–‡æœ¬
- **IDæ ¼å¼**: æ”¯æŒæ–°æ—§ä¸¤ç§external_idæ ¼å¼
- **é€æ­¥è¿ç§»**: å¯æ ¹æ®éœ€è¦é€æ­¥æ›´æ–°

## ğŸ“ˆ è´¨é‡æå‡

### å†…å®¹è´¨é‡æŒ‡æ ‡
```
æ ¼å¼å®Œæ•´æ€§: ğŸ“ˆ +100% (ä»æ— æ ¼å¼åˆ°å®Œæ•´HTML)
å¯è¯»æ€§: ğŸ“ˆ +200% (ç»“æ„åŒ–æ˜¾ç¤º)
ä¿¡æ¯å¯†åº¦: ğŸ“ˆ +85% (æ ¼å¼+å†…å®¹)
```

### æ•°æ®è´¨é‡æŒ‡æ ‡  
```
IDç®€æ´æ€§: ğŸ“ˆ +82% (é•¿åº¦å‡å°‘)
å”¯ä¸€æ€§: ğŸ“ˆ +100% (çœŸæ­£çš„èŒä½ç¼–å·)
å¯ç”¨æ€§: ğŸ“ˆ +150% (æ›´é€‚åˆç³»ç»Ÿä½¿ç”¨)
```

## ğŸ› ï¸ é…ç½®é€‰é¡¹

### å¯ç”¨/ç¦ç”¨HTMLæ ¼å¼
```java
// å¯é€šè¿‡é…ç½®æ§åˆ¶
private boolean shouldPreserveHtmlFormat(ParserProfile.DetailFetchConfig config, String url) {
    return config.isPreserveHtml() || url.contains("jobs.apple.com");
}
```

### èŒä½ç¼–å·æå–é…ç½®
```java
// å¯é…ç½®æå–æ¨¡å¼
String[] customPatterns = config.getJobIdPatterns();
if (customPatterns == null || customPatterns.length == 0) {
    // ä½¿ç”¨é»˜è®¤æ¨¡å¼
}
```

## ğŸ‰ æ€»ç»“

è¿™ä¸¤ä¸ªä¼˜åŒ–æ˜¾è‘—æå‡äº†è¯¦æƒ…è·å–åŠŸèƒ½çš„è´¨é‡å’Œå®ç”¨æ€§ï¼š

1. **HTMLæ ¼å¼ä¿ç•™** â†’ æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’Œæ•°æ®å¯ç”¨æ€§
2. **èŒä½ç¼–å·ä¼˜åŒ–** â†’ æ›´æ¸…æ™°çš„æ•°æ®æ ‡è¯†å’Œæ›´å¥½çš„ç³»ç»Ÿæ€§èƒ½

ä¼˜åŒ–åçš„ç³»ç»Ÿåœ¨ä¿æŒé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œæä¾›äº†æ›´ä¸°å¯Œã€æ›´æœ‰ç”¨çš„èŒä½ä¿¡æ¯ã€‚